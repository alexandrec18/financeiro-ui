
<p-panel>
  <p-header>
    <div class="ui-helper-clearfix">
        <span class="ui-panel-title" style="font-size:16px;display:inline-block;margin-top:2px">Produtos</span>
        <p-splitButton [style]="{'float':'right'}" label="Novo Produto" [model]="items"></p-splitButton>
    </div>
  </p-header>

  <div class="ui-g">
    <div class="ui-g-12">
      <p-table [value]="vendaProdutos" [responsive]="true">
        <ng-template pTemplate="header">
          <tr>
            <th class="col-data-header">Data Inicio</th>
            <th class="col-data-header">Data Fim</th>
            <th class="col-doc-header">Documento</th>
            <th class="col-prod-header">Produto</th>
            <th >Fornecedor</th>
            <th class="col-valor-header">Valor Total</th>
            <th class="col-valor-header">Saldo</th>
            <th class="col-acoes-header"></th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-vendaProduto
          let-rowIndex="rowIndex">
          <tr>
            <td class="col-data">{{ vendaProduto.dataInicio | date:'dd/MM/yyyy' }}</td>
            <td class="col-data">{{ vendaProduto.dataFim | date:'dd/MM/yyyy' }}</td>
            <td class="col-doc">{{ vendaProduto.documento }}</td>
            <td class="col-prod">{{ descricaoProduto(vendaProduto.produto) }}</td>
            <td >{{ vendaProduto.fornecedor.nome }}</td>
            <td class="col-valor">{{ vendaProduto.valoresVendaProduto?.valorTotalBrl | number:'1.2-2'}}</td>
            <td class="col-valor">{{ vendaProduto.valoresVendaProduto?.saldoBrl | number:'1.2-2' }}</td>
            <td class="col-acoes">
              <button pButton icon="fa fa-pencil" type="button"
                pTooTip="Editar" tooltipPosition="top"
                (click)="prepararEdicaoVendaProduto(vendaProduto, rowIndex)">
              </button>

              <button pButton icon="fa fa-trash" type="button"
                pTooTip="Excluir" tooltipPosition="top"
                (click)="removerVendaProduto(rowIndex)">
              </button>
            </td>
          </tr>
        </ng-template>

        <ng-template pTemplate="footer">
          <tr>
            <td colspan="5">Totais R$</td>
            <td class="col-valor">{{ valorTotalGeral | number:'1.2-2' }}</td>
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="8">
              Nenhum produto cadastrado!
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</p-panel>


<app-venda-cadastro-produto-hospedagem *ngIf="exibirDiariaHospedagem"
  [vendaProduto]="vendaProduto" (emiterConfirmarProduto)="aoConfirmarProduto(produto)">
</app-venda-cadastro-produto-hospedagem>

<app-venda-cadastro-produto-aerea *ngIf="exibirPassagemAerea"
  [vendaProduto]="vendaProduto" (emiterConfirmarProduto)="aoConfirmarProduto(produto)">
</app-venda-cadastro-produto-aerea>

<app-venda-cadastro-produto-turistico *ngIf="exibirPacoteTuristico"
  [vendaProduto]="vendaProduto" (emiterConfirmarProduto)="aoConfirmarProduto(produto)">
</app-venda-cadastro-produto-turistico>
